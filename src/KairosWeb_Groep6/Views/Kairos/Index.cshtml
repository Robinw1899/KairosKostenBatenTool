@using KairosWeb_Groep6.Models.KairosViewModels
@using System.Linq;
@model KairosWeb_Groep6.Models.KairosViewModels.IndexViewModel

@{
    ViewData["title"] = ViewData["zoeken"] == null? "Home" : "Zoekresultaten";
    var klasse = ViewData["zoeken"] == null ? "col-md-12" : "col-md-9";
}
<div>
    <div class="page-header" style="overflow: auto;">
        <!--Overflow omdat anders de border boven de h3 en knop staat-->
        <div class="col-md-7">
            <h3>@ViewData["title"]</h3>
        </div>
        <div class="col-md-5" style="margin-top: 20px;">
            @if (ViewData["zoeken"] != null)
            {// als we gezocht hebben knop tonen
                <div class="col-md-3">
                    <a class="btn btn-default" asp-action="Index" asp-controller="Kairos">Toon alles</a>
                </div>
            }
            
            <div class="@klasse">
                <!--margin omdat de h3 dezelfde margin heeft-->
                <form asp-action="Zoek" method="post">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Zoek analyses" id="zoekterm" name="zoekterm">
                        <span class="input-group-btn">
                            <button type="submit" class="btn btn-default">Zoek</button>
                        </span>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <div class="row">
        @if (Model == null || !Model.Analyses.Any())
        {
            if (ViewData["zoeken"] == null)
            {
                <div class="col-md-12">
                    <p style="font-size: 1.2em;">
                        Er zijn nog geen analyses om te tonen. Klik op de <i class="fa fa-plus" aria-hidden="true"></i> hieronder
                        of op het <i class="fa fa-line-chart" aria-hidden="true"></i>-icoon hierboven om een nieuwe analyse toe te voegen.
                    </p>
                </div>
            }
        }

        <div class="col-sm-12 col-md-6 col-lg-4">
            <a asp-controller="Analyse" asp-action="NieuweAnalyse">
                <div class="card text-center" style="color: black;">
                    <i class="fa fa-plus fa-4x" aria-hidden="true" style="margin: auto 0;"></i>
                </div>
            </a>
        </div>

        @if (Model != null && Model.Analyses.Any())
        {
            <div id="data">
                @Html.Partial("_Analyses", Model)
            </div>

            <div>
                <div class="col-md-12 text-center" style="margin-top: 20px;">
                    <a class="btn btn-default" asp-action="ToonMeer" asp-route-id="@Model.Aantal" id="meer">Toon meer ...</a>
                </div>
            </div>
        }
    </div>
</div>